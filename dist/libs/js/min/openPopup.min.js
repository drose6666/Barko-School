class openPopup{constructor({popup:e,open:t=null,openFlag:s=!1,close:o,closeItem:n=null,overlay:i=null,whereInsert:l=null,frame:r=null}){this.$popup=document.querySelector(e),this.$openBtn=document.querySelectorAll(t),this.$closeBtn=document.querySelector(o),this.$closeItem=document.querySelector(n),this.$overlay=document.querySelector(i),this.$whereInsert=document.querySelector(l),this.frame=r,this.openFlag=s,this.#setup()}#setup=()=>{if(this.$openBtn)for(let e=0;e<this.$openBtn.length;e++)this.$openBtn[e].addEventListener("click",this.onOpen);this.openFlag?this.onOpen():this.onClose(),this.$overlay?.addEventListener("click",this.onClose),this.$closeBtn?.addEventListener("click",this.onClose),this.$closeItem?.addEventListener("click",this.onClose),document.body.addEventListener("keydown",e=>{27==e.keyCode&&this.onClose()})};onOpen=()=>{this.$popup.classList.add("active"),document.body.classList.add("no-scroll"),this.openFlag=!0,this.frame&&this.insertIframe()};onClose=()=>{this.$popup?.classList.remove("active"),document.body.classList.remove("no-scroll"),this.openFlag=!1,this.frame&&this.deleteFrame()};insertIframe=()=>{this.$whereInsert.insertAdjacentHTML("afterbegin",this.frame)};deleteFrame=()=>{this.$whereInsert.querySelector("iframe")&&this.$whereInsert.querySelector("iframe").remove()}}